# C언어 프로그램 실행 시 터미널에서 일어나는 일

C 프로그램 실행 시 터미널을 통해서 사용자 입력을 받고, 출력할 수 있다.  
이 때 터미널에서 어떤 일이 일어날까?

우선 사용자의 입력을 요구하는 코드가 실행되면 시스템 콜이 일어난다. 이 때 사용자 입력을 받기 위해 컨텍스트 스위칭 등이 일어나고,  
사용자 프로그램은 sleep 된다.

물리적인 입력을 가져오기 위해서 장치 드라이버가 존재한다. 장치 드라이버는 자신의 버퍼에 입력을 저장해뒀다가, ENTER 등의 flush 조건의 입력이 들어오면 버퍼의 내용을 전달하기 위해 사용자 프로그램을 '깨운다'.

사용자가 입력할 때, 입력내용을 디스플레이에 표기하기 위해 '에코echo'를 사용한다. 에코를 사용해 입력 버퍼에 있는 내용을 출력 버퍼에 넣는다.  
실제 장치 드라이버에서는 버퍼를 사용하지 않는 raw와 버퍼링이 켜져있는 cooked 모드 두 가지가 있다.

그리고 이 버퍼에 있는 내용을 편하게/안전하게 가져오기 위한 라이브러리가 stdio이다.

## 표준 입출력

### 표준 입력

프로그램이 데이터 입력을 받기 위한 스트림.

### 표준 출력

프로그램이 데이터를 출력하기 위한 스트림.

### 표준 에러

데이터(에러 메시지)를 출력하기 위한 스트림. 표준 출력과는 분리되어 있다.

### 파일 디스크립터

유닉스 시스템에서는 모든 리소스를 파일로 추상화해뒀다. 이 리소스들을 설명/구분하는 번호.

- 0: 표준 입력
- 1: 표준 출력
- 2: 표준 에러

(서버개발 시)많이들 쓰는 예시 -> 2>&1  
해석: 2번(표준 에러)를 1번 파일 디스크립터로 redirect 해라. 즉, 2>dev/stdout 과 같은 명령어(옵션).
