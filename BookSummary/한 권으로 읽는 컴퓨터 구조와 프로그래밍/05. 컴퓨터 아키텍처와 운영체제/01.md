컴퓨터 아키텍처: 컴퓨터의 여러 구성요소의 배치 방법.

> 목표: 메모리 구조 개선

# 기본적인 구조 요소

- 폰 노이만 구조: cpu, i/o, 메모리로 구성 -> 버스가 하나
- 하버드 구조: cpu, i/o, 명령어 메모리, 데이터 메모리로 구성 -> 버스가 둘

## 프로세서 코어

cpu 정의 변경
프로세서 코어의 정리
필요성
한계

## 마이크로프로세서와 마이크로컴퓨터

- 마이크로 프로세서
- 마이크로 컴퓨터
- 마이크로 컨트롤러
- SoC

# 프로시저, 서브루틴, 함수

- 함수: 리턴이 있는 실행 단위
- 프로시저: void function

함수가 실행되면 메모리에서 발생하는 일

# 스택

스택: LIFO의 자료구조 개념
스택 프레임: 스택에 쌓이는 데이터 덩어리

# 인터럽트

- Polling: while을 돌면서 이벤트를 확인
  때문에 자원 낭비가 심하다.
- 인터럽트: 긴급하게 실행해야할 명령

인터럽트 실행 순서

1. cpu가 명령어를 도는 중
2. pin 등으로 인터럽트가 발생한 것을 확인
3. 현재 동작 중인 명령 마무리 후 현재 프로그램 상태 저장
4. 인터럽트 컨트롤러에서 온 인터럽트 벡터를 가지고 인터럽트 핸들러 실행
5. 인터럽트 마무리 후 저장 된 상태를 가져와서 원래 프로그램으로 복귀

# 상대 주소 지정

- 커널: 운영체제의 중심 영역.
- 시스템 프로그램: OS가 관리하는, 권한이 있는 프로그램
- 사용자 프로그램/프로세스: OS에서 실행되는, 권한이 적은 프로그램

사용자 프로그램이 시분할로 수행되면, 다음의 순서로 실행된다.

1. 프로그램을 메모리에서 읽기
2. 상태 복원(context switching)
3. 실행
4. 타이머 인터럽트
5. 중단
6. 상태 저장

이렇게 시분할이 수행시 절대 주소 지정이라면, 프로그램은 항상 0부터로 생각하기 때문에 메모리에는 하나의 프로세스만 올라와 있어야 한다. 이렇게 되면 컨텍스트 스위칭 시 데이터는 모두 디스크로 들어가야 하기 때문에, 매우매우 느리게 된다.  
이를 개선하고자, 인덱스 레지스터, 상대 주소 지정 방식이 생겨나게 되었다.

- 절대 주소 지정: 그냥 메모리 주소 값을 그대로 사용
- 인덱스 레지스터: offset 개념으로 시작 부분의 값을 따로 빼두어 내부적으론 0부터 시작하는 것처럼 사용.
- 상대 주소 지정: +10, -8과 같이 현재 실행중인 명령어의 주소에 대해 상대적인 주소 값을 지정하는 방법.
